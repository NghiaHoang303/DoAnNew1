{"ast":null,"code":"var _jsxFileName = \"/home/nghiahoang/Downloads/doAnNew1/frontend/src/screens/BookingTableScreen.js\";\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveBookingTable } from '../actions/cartTableActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { validName, validPhoneNumber } from '../regex.js';\nimport MessageBox from '../components/MessageBox';\nimport '../scss/bookTableAddress.css';\nexport default function BookingTableScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const cartTable = useSelector(state => state.cartTable);\n  const {\n    bookingTable\n  } = cartTable;\n\n  if (!userInfo) {\n    props.history.push('/signin');\n  }\n\n  const [fullName, setFullName] = useState(bookingTable.fullName);\n  const [phoneNumber, setPhoneNumber] = useState(bookingTable.phoneNumber);\n  const [date, setDate] = useState(bookingTable.date);\n  const [hour, setHour] = useState(bookingTable.hour);\n  const [numberPlace, setNumberPlace] = useState(bookingTable.numberPlace);\n  const [description, setDescription] = useState(bookingTable.description);\n  const [fullNameErr, setFullNameErr] = useState(false);\n  const [phoneNumberError, setPhoneNumberErr] = useState(false);\n  const [dateErr, setDateErr] = useState(false);\n\n  const validDay = date => {\n    const splitTime = date.split('-');\n    const year = parseInt(splitTime[0]);\n    const month = parseInt(splitTime[1]);\n    const day = parseInt(splitTime[2]);\n    const dayCurrent = new Date().getDate();\n    const monthCurrent = new Date().getMonth();\n    const yearCurrent = new Date().getFullYear();\n    return year >= yearCurrent && month >= monthCurrent && day >= dayCurrent;\n  };\n\n  const validate = () => {\n    if (!validName.test(fullName)) {\n      setFullNameErr(true);\n    }\n\n    if (!validPhoneNumber.test(phoneNumber)) {\n      setPhoneNumberErr(true);\n    }\n\n    if (!validDay(date)) {\n      setDateErr(true);\n    }\n  };\n\n  const dispatch = useDispatch();\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let moveOn = true;\n\n    if (moveOn) {\n      dispatch(saveBookingTable({\n        fullName,\n        phoneNumber,\n        date,\n        hour,\n        numberPlace,\n        description\n      }));\n      console.log(date);\n      props.history.push('/bookingTable');\n    }\n  }; ////fullName, phoneNumber, date, hour, numberPlace, description\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form form-shipping\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Booking Table\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"fullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Full Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"fullName\",\n    placeholder: \"Enter full name\",\n    value: fullName,\n    onChange: e => setFullName(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })), fullNameErr && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 24\n    }\n  }, \"For example: Duong Van Tu. Name starting with a capital letter and up to four letters\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phoneNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"phoneNumber\",\n    placeholder: \"Enter Phone Number\",\n    value: phoneNumber,\n    onChange: e => setPhoneNumber(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  })), phoneNumberError && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 30\n    }\n  }, \" For example: +84 868 060 635. Up to 11 numbers\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"date\",\n    placeholder: \"Enter Date\",\n    value: date,\n    onChange: e => setDate(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }), dateErr && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 22\n    }\n  }, \"current date month year or later\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"hour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"hour\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: hour,\n    onChange: e => setHour(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"7PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, \"7PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, \"8PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"9PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"9PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"10PM\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"numberPlace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Number Place\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: numberPlace,\n    onChange: e => setNumberPlace(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"10\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"description\",\n    name: \"description\",\n    rows: \"4\",\n    cols: \"50\",\n    placeholder: \"Enter Description\",\n    value: description,\n    onChange: e => setDescription(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    type: \"submit\",\n    onClick: validate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, \"Continue\"))));\n}","map":{"version":3,"sources":["/home/nghiahoang/Downloads/doAnNew1/frontend/src/screens/BookingTableScreen.js"],"names":["React","useState","useDispatch","useSelector","saveBookingTable","CheckoutSteps","validName","validPhoneNumber","MessageBox","BookingTableScreen","props","userSignin","state","userInfo","cartTable","bookingTable","history","push","fullName","setFullName","phoneNumber","setPhoneNumber","date","setDate","hour","setHour","numberPlace","setNumberPlace","description","setDescription","fullNameErr","setFullNameErr","phoneNumberError","setPhoneNumberErr","dateErr","setDateErr","validDay","splitTime","split","year","parseInt","month","day","dayCurrent","Date","getDate","monthCurrent","getMonth","yearCurrent","getFullYear","validate","test","dispatch","submitHandler","e","preventDefault","moveOn","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveBookingTable } from '../actions/cartTableActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { validName, validPhoneNumber} from '../regex.js';\nimport MessageBox from '../components/MessageBox';\nimport '../scss/bookTableAddress.css'\nexport default function BookingTableScreen(props) {\n  const userSignin = useSelector((state) => state.userSignin);\n\n  const { userInfo } = userSignin;\n  const cartTable = useSelector((state) => state.cartTable);\n  const { bookingTable } = cartTable;\n\n  if (!userInfo) {\n    props.history.push('/signin');\n  }\n  const [fullName, setFullName] = useState(bookingTable.fullName);\n  const [phoneNumber, setPhoneNumber] = useState(bookingTable.phoneNumber);\n  const [date, setDate] = useState(bookingTable.date);\n  const [hour, setHour] = useState(bookingTable.hour);\n  const [numberPlace, setNumberPlace] = useState(bookingTable.numberPlace);\n  const [description, setDescription] = useState(bookingTable.description);\n\n  const [fullNameErr, setFullNameErr] = useState(false);\n  const [phoneNumberError, setPhoneNumberErr] = useState(false);\n  const [dateErr, setDateErr] = useState(false);\n const validDay = (date) => {\n      const splitTime = date.split('-');\n      const year = parseInt(splitTime[0]);\n      const month = parseInt(splitTime[1]);\n      const day = parseInt(splitTime[2]);\n      const dayCurrent = new Date().getDate();\n      const monthCurrent = new Date().getMonth();\n      const yearCurrent = new Date().getFullYear();\n      return year >= yearCurrent && month >= monthCurrent && day >= dayCurrent;\n }\n  const validate = () => {\n    if (!validName.test(fullName)) {\n       setFullNameErr(true);\n    }\n    if (!validPhoneNumber.test(phoneNumber)) {\n      setPhoneNumberErr(true);\n    }\n    if(!validDay(date)){\n        setDateErr(true);\n    }\n }\n  const dispatch = useDispatch();\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n     let moveOn = true;\n\n    if (moveOn) {\n      dispatch(\n        saveBookingTable({\n          fullName,\n          phoneNumber,\n          date,\n          hour,\n          numberPlace,\n          description\n        })\n      );\n      console.log(date);\n      props.history.push('/bookingTable');\n    }\n  };\n  \n  ////fullName, phoneNumber, date, hour, numberPlace, description\n  return (\n    <div>\n      <CheckoutSteps step1 step2></CheckoutSteps>\n      <form className=\"form form-shipping\" onSubmit={submitHandler}>\n        <div>\n          <h1>Booking Table</h1>\n        </div>\n        <div>\n          <label htmlFor=\"fullName\">Full Name</label>\n          <input\n            type=\"text\"\n            id=\"fullName\"\n            placeholder=\"Enter full name\"\n            value={fullName}\n            onChange={(e) => setFullName(e.target.value)}\n            required\n          ></input>\n        </div>\n        {fullNameErr &&<MessageBox variant=\"danger\">For example: Duong Van Tu. Name starting with a capital letter and up to four letters</MessageBox>}\n        <div>\n          <label htmlFor=\"phoneNumber\">Phone Number</label>\n          <input\n            type=\"text\"\n            id=\"phoneNumber\"\n            placeholder=\"Enter Phone Number\"\n            value={phoneNumber}\n            onChange={(e) => setPhoneNumber(e.target.value)}\n            required\n          ></input>\n        </div>\n        {phoneNumberError && <MessageBox variant=\"danger\"> For example: +84 868 060 635. Up to 11 numbers</MessageBox>}\n        <div>\n          <label htmlFor=\"date\">Date</label>\n          <input\n            type=\"date\"\n            id=\"date\"\n            placeholder=\"Enter Date\"\n            value={date}\n            onChange={(e) => setDate(e.target.value)}\n            required\n          ></input>\n          {dateErr &&<MessageBox variant=\"danger\">current date month year or later</MessageBox>}\n        </div>\n        <div>\n          <label htmlFor=\"hour\">hour</label>\n          <select\n            value={hour}\n            onChange={(e) => setHour(e.target.value)}\n            required\n          >\n            <option value=\"7PM\">7PM</option>\n            <option value=\"8PM\">8PM</option>\n            <option value=\"9PM\">9PM</option>\n            <option value=\"10PM\">10PM</option>\n          </select>\n        </div>\n        <div>\n          <label htmlFor=\"numberPlace\">Number Place</label>\n          <select\n            value={numberPlace}\n            onChange={(e) => setNumberPlace(e.target.value)}\n            required\n          >\n            <option value=\"2\">2</option>\n            <option value=\"4\">4</option>\n            <option value=\"6\">6</option>\n            <option value=\"8\">8</option>\n            <option value=\"10\">10</option>\n          </select>\n        </div>\n        <div>\n        <label htmlFor=\"description\">Description</label>\n        <textarea id=\"description\" name=\"description\" rows=\"4\" cols=\"50\"  placeholder=\"Enter Description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            required >\n           \n        </textarea>\n        </div>\n        <div>\n          <label />\n          <button className=\"primary\" type=\"submit\" onClick={validate}>\n            Continue\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}