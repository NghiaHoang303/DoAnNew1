{"ast":null,"code":"var _jsxFileName = \"/home/nghiahoang/DoAnNew1/frontend/src/screens/OrderScreen.js\";\nimport Axios from 'axios';\nimport { PayPalButton } from 'react-paypal-button-v2';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { deliverOrder, detailsOrder, payOrder } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ORDER_DELIVER_RESET, ORDER_PAY_RESET } from '../constants/orderConstants';\nimport \"../scss/cardOderScreen.css\";\nexport default function OrderScreen(props) {\n  const orderId = props.match.params.id;\n  const [sdkReady, setSdkReady] = useState(false);\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    loading,\n    error\n  } = orderDetails;\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin; // const PayPalButton = window.paypal.Buttons.driver(\"react\", { React, ReactDOM });\n\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [{\n        amount: {\n          value: \"0.01\"\n        }\n      }]\n    });\n  };\n\n  const onApprove = (data, actions) => {\n    return actions.order.capture();\n  };\n\n  function confirmSuccess() {\n    if (order.isPaid === true) {\n      notify();\n    } else {\n      not_notify();\n    }\n  }\n\n  const notify = () => toast.success(\"Thanh toán thành công!\");\n\n  const not_notify = () => toast.error(\"Thanh toán chưa thành công\");\n\n  const orderPay = useSelector(state => state.orderPay);\n  const {\n    loading: loadingPay,\n    error: errorPay,\n    success: successPay\n  } = orderPay;\n  const orderDeliver = useSelector(state => state.orderDeliver);\n  const {\n    loading: loadingDeliver,\n    error: errorDeliver,\n    success: successDeliver\n  } = orderDeliver;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const addPayPalScript = async () => {\n      const {\n        data\n      } = await Axios.get('/api/config/paypal');\n      const script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = `https://www.paypal.com/sdk/js?client-id=${data}`; // script.src = `https://www.paypal.com/sdk/js?client-id=ATpB_qUd6EOVzvep_ojzwzy06Lni5oinBvFgg-hOqLtkCz9tdPwRj4rgLOrlmJo-PlESwQwIDzishx5J`\n\n      script.async = true;\n\n      script.onload = () => {\n        setSdkReady(true);\n      };\n\n      document.body.appendChild(script);\n    };\n\n    if (!order || successPay || successDeliver || order && order._id !== orderId) {\n      dispatch({\n        type: ORDER_PAY_RESET\n      });\n      dispatch({\n        type: ORDER_DELIVER_RESET\n      });\n      dispatch(detailsOrder(orderId));\n    } else {\n      if (!order.isPaid) {\n        if (!window.paypal) {\n          addPayPalScript();\n        } else {\n          setSdkReady(true);\n        }\n      }\n    }\n  }, [dispatch, orderId, sdkReady, successPay, successDeliver, order]);\n\n  const successPaymentHandler = paymentResult => {\n    dispatch(payOrder(order, paymentResult));\n  };\n\n  const deliverHandler = () => {\n    dispatch(deliverOrder(order._id));\n  };\n\n  return loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, error) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"\\u0110\\u1EB7t h\\xE0ng \", order._id), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-body-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\",\n    style: {\n      width: '60%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"col\" // style={{ display: \"inline-block\" }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-body-new  \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"header-content-pay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, \"\\u0110ang chuy\\u1EC3n h\\xE0ng\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 19\n    }\n  }, \"T\\xEAn:\"), \" \", order.shippingAddress.fullName, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 74\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9: \"), \" \", order.shippingAddress.address, \",\", order.shippingAddress.city, \",\", ' ', order.shippingAddress.postalCode, \",\", order.shippingAddress.country), order.isDelivered ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, \"\\u0110\\u01B0\\u1EE3c giao l\\xFAc \", order.deliveredAt) : /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, \"Ch\\u01B0a \\u0111\\u01B0\\u1EE3c giao\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"col \" //  style={{ display: \"inline-block\" }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-body-new \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"header-content-pay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, \"Thanh to\\xE1n\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"Method:\"), \" \", order.paymentMethod), order.isPaid ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, confirmSuccess(), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 20\n    }\n  }), /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, \"Thanh to\\xE1n t\\u1EA1i \", order.paidAt)) : /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Ch\\u01B0a thanh to\\xE1n\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"col \" // style={{ display: \"inline-block\" }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-body-new \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"header-content-pay\",\n    style: {\n      width: '200%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, \"\\u0110\\u1EB7t c\\xE1c m\\u1EB7t h\\xE0ng\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, order.orderItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    style: {\n      width: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30 col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 27\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"style-price col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, item.qty, \" x $\", item.price, \" = $\", item.qty * item.price))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card nav-car card-Oder-Screen card-Oder-Screen-place-responsive \",\n    style: {\n      height: \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, \"Thanh To\\xE1n \\u0110\\u01A1n H\\xE0ng\"))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"statistical-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, \"M\\u1EB7t h\\xE0ng\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, \"$\", order.itemsPrice.toFixed(2))), \"PayPal\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"statistical-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  }, \"\\u0110ang chuy\\u1EC3n h\\xE0ng\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 19\n    }\n  }, \"$\", order.shippingPrice.toFixed(2)))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"statistical-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  }, \"Thu\\u1EBF\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 19\n    }\n  }, \"$\", order.taxPrice.toFixed(2)))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"statistical-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  }, \"T\\u1ED5ng \\u0111\\u01A1n \\u0111\\u1EB7t h\\xE0ng\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 21\n    }\n  }, \"$\", order.totalPrice.toFixed(2))))), !order.isPaid && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"statistical-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, !sdkReady ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, errorPay && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 25\n    }\n  }, errorPay), loadingPay && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(PayPalButton, {\n    amount: order.totalPrice,\n    onSuccess: successPaymentHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 23\n    }\n  }))), userInfo.isAdmin && order.isPaid && !order.isDelivered && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, loadingDeliver && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 38\n    }\n  }), errorDeliver && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }, errorDeliver), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"primary block\",\n    onClick: deliverHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 19\n    }\n  }, \"Giao h\\xE0ng\")))))));\n}","map":{"version":3,"sources":["/home/nghiahoang/DoAnNew1/frontend/src/screens/OrderScreen.js"],"names":["Axios","PayPalButton","React","useEffect","useState","useRef","useDispatch","useSelector","Link","deliverOrder","detailsOrder","payOrder","LoadingBox","MessageBox","ToastContainer","toast","ORDER_DELIVER_RESET","ORDER_PAY_RESET","OrderScreen","props","orderId","match","params","id","sdkReady","setSdkReady","orderDetails","state","order","loading","error","userSignin","userInfo","createOrder","data","actions","create","purchase_units","amount","value","onApprove","capture","confirmSuccess","isPaid","notify","not_notify","success","orderPay","loadingPay","errorPay","successPay","orderDeliver","loadingDeliver","errorDeliver","successDeliver","dispatch","addPayPalScript","get","script","document","createElement","type","src","async","onload","body","appendChild","_id","window","paypal","successPaymentHandler","paymentResult","deliverHandler","width","shippingAddress","fullName","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","paidAt","orderItems","map","item","product","image","name","qty","price","height","itemsPrice","toFixed","shippingPrice","taxPrice","totalPrice","isAdmin"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,YAAT,EAAuBC,YAAvB,EAAqCC,QAArC,QAAqD,yBAArD;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,OAAO,uCAAP;AACA,SACEC,mBADF,EAEEC,eAFF,QAGO,6BAHP;AAIA,OAAO,4BAAP;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACzC,QAAMC,OAAO,GAAGD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBC,EAAnC;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAMsB,YAAY,GAAGnB,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACD,YAAlB,CAAhC;AACA,QAAM;AAAEE,IAAAA,KAAF;AAASC,IAAAA,OAAT;AAAkBC,IAAAA;AAAlB,MAA4BJ,YAAlC;AACA,QAAMK,UAAU,GAAGxB,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACI,UAAlB,CAA9B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeD,UAArB,CANyC,CAQzC;;AAEA,QAAME,WAAW,GAAG,CAACC,IAAD,EAAOC,OAAP,KAAmB;AACrC,WAAOA,OAAO,CAACP,KAAR,CAAcQ,MAAd,CAAqB;AAC1BC,MAAAA,cAAc,EAAE,CACd;AACEC,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE;AADD;AADV,OADc;AADU,KAArB,CAAP;AASD,GAVD;;AAWA,QAAMC,SAAS,GAAG,CAACN,IAAD,EAAOC,OAAP,KAAmB;AACnC,WAAOA,OAAO,CAACP,KAAR,CAAca,OAAd,EAAP;AACD,GAFD;;AAIA,WAASC,cAAT,GAA0B;AACxB,QAAGd,KAAK,CAACe,MAAN,KAAiB,IAApB,EAAyB;AACtBC,MAAAA,MAAM;AAER,KAHD,MAGM;AACJC,MAAAA,UAAU;AACX;AAEF;;AACD,QAAMD,MAAM,GAAG,MAAM7B,KAAK,CAAC+B,OAAN,CAAc,wBAAd,CAArB;;AACA,QAAMD,UAAU,GAAG,MAAM9B,KAAK,CAACe,KAAN,CAAY,4BAAZ,CAAzB;;AAEA,QAAMiB,QAAQ,GAAGxC,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACoB,QAAlB,CAA5B;AACA,QAAM;AACJlB,IAAAA,OAAO,EAAEmB,UADL;AAEJlB,IAAAA,KAAK,EAAEmB,QAFH;AAGJH,IAAAA,OAAO,EAAEI;AAHL,MAIFH,QAJJ;AAKA,QAAMI,YAAY,GAAG5C,WAAW,CAAEoB,KAAD,IAAWA,KAAK,CAACwB,YAAlB,CAAhC;AACA,QAAM;AACJtB,IAAAA,OAAO,EAAEuB,cADL;AAEJtB,IAAAA,KAAK,EAAEuB,YAFH;AAGJP,IAAAA,OAAO,EAAEQ;AAHL,MAIFH,YAJJ;AAKA,QAAMI,QAAQ,GAAGjD,WAAW,EAA5B;AACAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMqD,eAAe,GAAG,YAAY;AAClC,YAAM;AAAEtB,QAAAA;AAAF,UAAW,MAAMlC,KAAK,CAACyD,GAAN,CAAU,oBAAV,CAAvB;AACA,YAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,MAAAA,MAAM,CAACG,IAAP,GAAc,iBAAd;AACAH,MAAAA,MAAM,CAACI,GAAP,GAAc,2CAA0C5B,IAAK,EAA7D,CAJkC,CAMnC;;AACCwB,MAAAA,MAAM,CAACK,KAAP,GAAe,IAAf;;AACAL,MAAAA,MAAM,CAACM,MAAP,GAAgB,MAAM;AACpBvC,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD,OAFD;;AAGAkC,MAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;AACD,KAZD;;AAaA,QACE,CAAC9B,KAAD,IACAsB,UADA,IAEAI,cAFA,IAGC1B,KAAK,IAAIA,KAAK,CAACuC,GAAN,KAAc/C,OAJ1B,EAKE;AACAmC,MAAAA,QAAQ,CAAC;AAAEM,QAAAA,IAAI,EAAE5C;AAAR,OAAD,CAAR;AACAsC,MAAAA,QAAQ,CAAC;AAAEM,QAAAA,IAAI,EAAE7C;AAAR,OAAD,CAAR;AACAuC,MAAAA,QAAQ,CAAC7C,YAAY,CAACU,OAAD,CAAb,CAAR;AACD,KATD,MASO;AACL,UAAI,CAACQ,KAAK,CAACe,MAAX,EAAmB;AACjB,YAAI,CAACyB,MAAM,CAACC,MAAZ,EAAoB;AAClBb,UAAAA,eAAe;AAChB,SAFD,MAEO;AACL/B,UAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF;AACF;AACF,GAhCQ,EAgCN,CAAC8B,QAAD,EAAWnC,OAAX,EAAoBI,QAApB,EAA8B0B,UAA9B,EAA0CI,cAA1C,EAA0D1B,KAA1D,CAhCM,CAAT;;AAoCA,QAAM0C,qBAAqB,GAAIC,aAAD,IAAmB;AAC/ChB,IAAAA,QAAQ,CAAC5C,QAAQ,CAACiB,KAAD,EAAQ2C,aAAR,CAAT,CAAR;AACD,GAFD;;AAGA,QAAMC,cAAc,GAAG,MAAM;AAC3BjB,IAAAA,QAAQ,CAAC9C,YAAY,CAACmB,KAAK,CAACuC,GAAP,CAAb,CAAR;AACD,GAFD;;AAIA,SAAOtC,OAAO,gBACZ,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,GAEVC,KAAK,gBACP,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BA,KAA9B,CADO,gBAGP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAcF,KAAK,CAACuC,GAApB,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAE,EAAf;AAAkB,IAAA,KAAK,EAAI;AAACM,MAAAA,KAAK,EAAE;AAAR,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,KAAd,CACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAG,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,OACyB7C,KAAK,CAAC8C,eAAN,CAAsBC,QAD/C,oBACyD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADzD,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,OAE8B/C,KAAK,CAAC8C,eAAN,CAAsBE,OAFpD,OAGGhD,KAAK,CAAC8C,eAAN,CAAsBG,IAHzB,OAGgC,GAHhC,EAIGjD,KAAK,CAAC8C,eAAN,CAAsBI,UAJzB,OAKGlD,KAAK,CAAC8C,eAAN,CAAsBK,OALzB,CAFF,EASGnD,KAAK,CAACoD,WAAN,gBACC,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCACiBpD,KAAK,CAACqD,WADvB,CADD,gBAKC,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAdJ,CAHF,CADF,eAsBE;AAAI,IAAA,SAAS,EAAC,MAAd,CACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAG,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,OAC4BrD,KAAK,CAACsD,aADlC,CAFF,EAMGtD,KAAK,CAACe,MAAN,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,cAAc,EADjB,eAEC,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGA,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACkBd,KAAK,CAACuD,MADxB,CAHA,CADD,gBAUC,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAhBJ,CAHF,CAtBF,eA6CE;AAAK,IAAA,SAAS,EAAC,MAAf,CACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAG,oBAAhB;AAAqC,IAAA,KAAK,EAAG;AAACV,MAAAA,KAAK,EAAE;AAAR,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7C,KAAK,CAACwD,UAAN,CAAiBC,GAAjB,CAAsBC,IAAD,iBACpB;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAED,IAAI,CAACE,KADZ;AAEE,IAAA,GAAG,EAAEF,IAAI,CAACG,IAFZ;AAGE,IAAA,SAAS,EAAC,OAHZ;AAIE,IAAA,KAAK,EAAI;AAAChB,MAAAA,KAAK,EAAC;AAAP,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eASE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,YAAWa,IAAI,CAACC,OAAQ,EAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,IAAI,CAACG,IADR,CADF,CATF,eAeE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,IAAI,CAACI,GADR,UACiBJ,IAAI,CAACK,KADtB,UACiCL,IAAI,CAACI,GAAL,GAAWJ,IAAI,CAACK,KADjD,CAfF,CADF,CADD,CADH,CAFF,CAHF,CA7CF,CADF,CADF,eAiFE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACC,IAAA,SAAS,EAAC,kEADX;AAEC,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAI,IAAA,SAAS,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAAJ,CADF,CADF,eAIE;AAAI,IAAA,SAAS,EAAG,qBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOhE,KAAK,CAACiE,UAAN,CAAiBC,OAAjB,CAAyB,CAAzB,CAAP,CAFF,CADF,WAJF,eAUE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOlE,KAAK,CAACmE,aAAN,CAAoBD,OAApB,CAA4B,CAA5B,CAAP,CAFF,CADF,CAVF,eAgBE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAOlE,KAAK,CAACoE,QAAN,CAAeF,OAAf,CAAuB,CAAvB,CAAP,CAFF,CADF,CAhBF,eAsBE;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAUlE,KAAK,CAACqE,UAAN,CAAiBH,OAAjB,CAAyB,CAAzB,CAAV,CADF,CAJF,CADF,CAtBF,EAgCG,CAAClE,KAAK,CAACe,MAAP,iBACC;AAAI,IAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACnB,QAAD,gBACC,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,0CACGyB,QAAQ,iBACP,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BA,QAA9B,CAFJ,EAIGD,UAAU,iBAAI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJjB,eAME,oBAAC,YAAD;AACE,IAAA,MAAM,EAAEpB,KAAK,CAACqE,UADhB;AAEE,IAAA,SAAS,EAAE3B,qBAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAJJ,CAjCJ,EAoDGtC,QAAQ,CAACkE,OAAT,IAAoBtE,KAAK,CAACe,MAA1B,IAAoC,CAACf,KAAK,CAACoD,WAA3C,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5B,cAAc,iBAAI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADrB,EAEGC,YAAY,iBACX,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BA,YAA9B,CAHJ,eAKE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,eAFZ;AAGE,IAAA,OAAO,EAAEmB,cAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,CArDJ,CAJF,CADF,CAjFF,CAFF,CALF;AAsKD","sourcesContent":["import Axios from 'axios';\nimport { PayPalButton } from 'react-paypal-button-v2';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { deliverOrder, detailsOrder, payOrder } from '../actions/orderActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  ORDER_DELIVER_RESET,\n  ORDER_PAY_RESET,\n} from '../constants/orderConstants';\nimport \"../scss/cardOderScreen.css\";\n\nexport default function OrderScreen(props) {\n  const orderId = props.match.params.id;\n  const [sdkReady, setSdkReady] = useState(false);\n  const orderDetails = useSelector((state) => state.orderDetails);\n  const { order, loading, error } = orderDetails;\n  const userSignin = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignin;\n\n  // const PayPalButton = window.paypal.Buttons.driver(\"react\", { React, ReactDOM });\n\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [\n        {\n          amount: {\n            value: \"0.01\",\n          },\n        },\n      ],\n    });\n  }\n  const onApprove = (data, actions) => {\n    return actions.order.capture();\n  }\n\n  function confirmSuccess (){\n    if(order.isPaid === true){\n       notify();\n      \n    }else {\n      not_notify()\n    }\n\n  }\n  const notify = () => toast.success(\"Thanh toán thành công!\");\n  const not_notify = () => toast.error(\"Thanh toán chưa thành công\")\n\n  const orderPay = useSelector((state) => state.orderPay);\n  const {\n    loading: loadingPay,\n    error: errorPay,\n    success: successPay,\n  } = orderPay;\n  const orderDeliver = useSelector((state) => state.orderDeliver);\n  const {\n    loading: loadingDeliver,\n    error: errorDeliver,\n    success: successDeliver,\n  } = orderDeliver;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const addPayPalScript = async () => {\n      const { data } = await Axios.get('/api/config/paypal');\n      const script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\n\n     // script.src = `https://www.paypal.com/sdk/js?client-id=ATpB_qUd6EOVzvep_ojzwzy06Lni5oinBvFgg-hOqLtkCz9tdPwRj4rgLOrlmJo-PlESwQwIDzishx5J`\n      script.async = true;\n      script.onload = () => {\n        setSdkReady(true);\n      };\n      document.body.appendChild(script);\n    };\n    if (\n      !order ||\n      successPay ||\n      successDeliver ||\n      (order && order._id !== orderId)\n    ) {\n      dispatch({ type: ORDER_PAY_RESET });\n      dispatch({ type: ORDER_DELIVER_RESET });\n      dispatch(detailsOrder(orderId));\n    } else {\n      if (!order.isPaid) {\n        if (!window.paypal) {\n          addPayPalScript();\n        } else {\n          setSdkReady(true);\n        }\n      }\n    }\n  }, [dispatch, orderId, sdkReady, successPay, successDeliver, order]);\n\n\n\n  const successPaymentHandler = (paymentResult) => {\n    dispatch(payOrder(order, paymentResult));\n  };\n  const deliverHandler = () => {\n    dispatch(deliverOrder(order._id));\n  };\n\n  return loading ? (\n    <LoadingBox></LoadingBox>\n  ) : error ? (\n    <MessageBox variant=\"danger\">{error}</MessageBox>\n  ) : (\n    <div>\n      <h1>Đặt hàng {order._id}</h1>\n      <div className=\"row top\">\n        <div className=\"content-body-responsive\">\n          <ul className ='' style = {{width :'60%'}}>\n            <li className=\"col\" \n            // style={{ display: \"inline-block\" }}\n            >\n              <div className=\"card card-body card-body-new  \">\n                <h2 className = 'header-content-pay'>Đang chuyển hàng</h2>\n                <p>\n                  <strong>Tên:</strong> {order.shippingAddress.fullName} <br />\n                  <strong>Địa chỉ: </strong> {order.shippingAddress.address},\n                  {order.shippingAddress.city},{' '}\n                  {order.shippingAddress.postalCode},\n                  {order.shippingAddress.country}\n                </p>\n                {order.isDelivered ? (\n                  <MessageBox variant=\"success\">\n                    Được giao lúc {order.deliveredAt}\n                  </MessageBox>\n                ) : (\n                  <MessageBox variant=\"danger\">Chưa được giao</MessageBox>\n                )}\n              </div>\n            </li>\n            <li className=\"col \"\n            //  style={{ display: \"inline-block\" }}\n             >\n              <div className=\"card card-body card-body-new \">\n                <h2 className = 'header-content-pay'>Thanh toán</h2>\n                <p>\n                  <strong>Method:</strong> {order.paymentMethod}\n                </p>\n\n                {order.isPaid ? (\n                  <div >\n                    {confirmSuccess()}\n                   <ToastContainer />\n                  <MessageBox variant=\"success\">\n                    Thanh toán tại {order.paidAt}\n                  </MessageBox>\n                  </div>\n                   \n                ) : (\n                  <MessageBox variant=\"danger\">Chưa thanh toán</MessageBox>\n                )}\n              </div>\n            </li>\n            <li  className=\"col \" \n            // style={{ display: \"inline-block\" }}\n            >\n              <div className=\"card card-body card-body-new \">\n                <h2 className = 'header-content-pay' style ={{width :'200%'}}>Đặt các mặt hàng</h2>\n                <ul>\n                  {order.orderItems.map((item) => (\n                    <li key={item.product}>\n                      <div className=\"row\">\n                        <div className = 'col'>\n                          <img\n                            src={item.image}\n                            alt={item.name}\n                            className=\"small\"\n                            style = {{width:'100px'}}\n                          ></img>\n                        </div>\n                        <div className=\"min-30 col\">\n                          <Link to={`/product/${item.product}`}>\n                            {item.name}\n                          </Link>\n                        </div>\n\n                        <div className=\"style-price col \">\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"\">\n          <div \n           className=\"card nav-car card-Oder-Screen card-Oder-Screen-place-responsive \"\n           style={{ height: \"500px\" }}\n          >\n            <ul className =''>\n              <li>\n                <h2><b>Thanh Toán Đơn Hàng</b></h2>\n              </li>\n              <li className = 'statistical-content'>\n                <div className=\"row\">\n                  <div>Mặt hàng</div>\n                  <div>${order.itemsPrice.toFixed(2)}</div>\n                </div>PayPal\n              </li>\n              <li className=\"statistical-content\">\n                <div className=\"row\">\n                  <div>Đang chuyển hàng</div>\n                  <div>${order.shippingPrice.toFixed(2)}</div>\n                </div>\n              </li>\n              <li className=\"statistical-content\">\n                <div className=\"row\">\n                  <div>Thuế</div>\n                  <div>${order.taxPrice.toFixed(2)}</div>\n                </div>\n              </li>\n              <li className=\"statistical-content\">\n                <div className=\"row\">\n                  <div>\n                    <strong>Tổng đơn đặt hàng</strong>\n                  </div>\n                  <div>\n                    <strong>${order.totalPrice.toFixed(2)}</strong>\n                  </div>\n                </div>\n              </li>\n              {!order.isPaid && (\n                <li className=\"statistical-content\">\n                  {!sdkReady ? (\n                    <LoadingBox></LoadingBox>\n                  ) : (\n                    <>\n                      {errorPay && (\n                        <MessageBox variant=\"danger\">{errorPay}</MessageBox>\n                      )}\n                      {loadingPay && <LoadingBox></LoadingBox>}\n\n                      <PayPalButton\n                        amount={order.totalPrice}\n                        onSuccess={successPaymentHandler}\n                      ></PayPalButton>\n                    \n                    </>\n                  )}\n                </li>\n              )}\n              {userInfo.isAdmin && order.isPaid && !order.isDelivered && (\n                <li>\n                  {loadingDeliver && <LoadingBox></LoadingBox>}\n                  {errorDeliver && (\n                    <MessageBox variant=\"danger\">{errorDeliver}</MessageBox>\n                  )}\n                  <button\n                    type=\"button\"\n                    className=\"primary block\"\n                    onClick={deliverHandler}\n                  >\n                    Giao hàng\n                  </button>\n                </li>\n              )}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}