{"ast":null,"code":"var _jsxFileName = \"/home/nghiahoang/DoAnNew1/frontend/src/screens/PlaceBookingScreen.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { createBooking } from '../actions/bookingActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { BOOKING_CREATE_RESET } from '../constants/bookingConstants';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport \"../scss/cardOderScreen.css\";\nexport default function PlaceBookingScreen(props) {\n  const cartTable = useSelector(state => state.cartTable);\n\n  if (!cartTable.paymentMethod) {\n    props.history.push('/paymentTable');\n  }\n\n  const bookingCreate = useSelector(state => state.bookingCreate);\n  const {\n    loading,\n    success,\n    error,\n    booking\n  } = bookingCreate;\n\n  const toPrice = num => Number(num.toFixed(2)); // 5.123 => \"5.12\" => 5.12\n\n\n  cartTable.itemsPrice = toPrice(cartTable.cartTableItems.reduce((a, c) => a + c.qty * c.price, 0));\n  cartTable.taxPrice = toPrice(0.15 * cartTable.itemsPrice);\n  cartTable.totalPrice = cartTable.itemsPrice + cartTable.taxPrice;\n  const dispatch = useDispatch();\n\n  const placeBookingHandler = () => {\n    dispatch(createBooking({ ...cartTable,\n      bookingItems: cartTable.cartTableItems\n    }));\n  };\n\n  useEffect(() => {\n    if (success) {\n      props.history.push(`/booking/${booking._id}`);\n      dispatch({\n        type: BOOKING_CREATE_RESET\n      });\n    }\n  }, [dispatch, booking, props.history, success]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    step4: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-Oder-Screen\",\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \"B\\xE0n \\u0111\\u1EB7t ch\\u1ED7\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, \"T\\xEAn:\"), \" \", cartTable.bookingTable.fullName, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 73\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i: \"), \" \", cartTable.bookingTable.phoneNumber, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 89\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }, \"Gi\\u1EDD: \"), \" \", cartTable.bookingTable.hour, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 72\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }\n  }, \"Ng\\xE0y: \"), \" \", cartTable.bookingTable.date, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 73\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9: \"), \" \", cartTable.bookingTable.numberPlace, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 83\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, \"M\\xF4 t\\u1EA3: \"), \" \", cartTable.bookingTable.description, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 81\n    }\n  })))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-Oder-Screen\",\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Thanh to\\xE1n\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, \"Ph\\u01B0\\u01A1ng ph\\xE1p:\"), \" \", cartTable.paymentMethod))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-Oder-Screen\",\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"\\u0110\\u1EB7t tr\\u01B0\\u1EDBc c\\xE1c m\\u1EB7t h\\xE0ng\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, cartTable.cartTableItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    style: {\n      width: '100px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30 col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/table/${item.table}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 27\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, item.qty, \" x $\", item.price, \" = $\", item.qty * item.price))))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body card-Oder-Screen\",\n    style: {\n      width: '80%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Thanh to\\xE1n \\u0111\\u1EB7t b\\xE0nt\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, \"M\\u1EB7t h\\xE0ng\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"$\", cartTable.itemsPrice.toFixed(2)))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, \"Thu\\u1EBF\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"$\", cartTable.taxPrice.toFixed(2)))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, \" T\\u1ED5ng s\\u1ED1 \\u0111\\u1EB7t tr\\u01B0\\u1EDBc\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"$\", cartTable.totalPrice.toFixed(2))))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: placeBookingHandler,\n    className: \"primary block\",\n    disabled: cartTable.cartTableItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, \"\\u0110\\u1EB7t ch\\u1ED7\")), loading && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 27\n    }\n  }), error && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, error))))));\n}","map":{"version":3,"sources":["/home/nghiahoang/DoAnNew1/frontend/src/screens/PlaceBookingScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","createBooking","CheckoutSteps","BOOKING_CREATE_RESET","LoadingBox","MessageBox","PlaceBookingScreen","props","cartTable","state","paymentMethod","history","push","bookingCreate","loading","success","error","booking","toPrice","num","Number","toFixed","itemsPrice","cartTableItems","reduce","a","c","qty","price","taxPrice","totalPrice","dispatch","placeBookingHandler","bookingItems","_id","type","width","bookingTable","fullName","phoneNumber","hour","date","numberPlace","description","map","item","table","image","name","length"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { createBooking } from '../actions/bookingActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { BOOKING_CREATE_RESET } from '../constants/bookingConstants';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport \"../scss/cardOderScreen.css\";   \n\n\nexport default function PlaceBookingScreen(props) {\n  const cartTable = useSelector((state) => state.cartTable);\n  if (!cartTable.paymentMethod) {\n    props.history.push('/paymentTable');\n  }\n  const bookingCreate = useSelector((state) => state.bookingCreate);\n  const { loading, success, error, booking } = bookingCreate;\n  const toPrice = (num) => Number(num.toFixed(2)); // 5.123 => \"5.12\" => 5.12\n  cartTable.itemsPrice = toPrice(\n    cartTable.cartTableItems.reduce((a, c) => a + c.qty * c.price, 0)\n  );\n  cartTable.taxPrice = toPrice(0.15 * cartTable.itemsPrice);\n  cartTable.totalPrice = cartTable.itemsPrice + cartTable.taxPrice;\n  const dispatch = useDispatch();\n  const placeBookingHandler = () => {\n    dispatch(createBooking({ ...cartTable, bookingItems: cartTable.cartTableItems }));\n  };\n  useEffect(() => {\n    if (success) {\n      props.history.push(`/booking/${booking._id}`);\n      dispatch({ type: BOOKING_CREATE_RESET });\n    }\n  }, [dispatch, booking, props.history, success]);\n  return (\n    <div>\n      <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\n      <div className=\"row top\">\n        <div className=\"col-2\">\n          <ul>\n            <li>\n              <div className=\"card card-body card-Oder-Screen\"  style ={{width :'80%'}}>\n                <h2>Bàn đặt chỗ</h2>\n                <p>\n                <strong>Tên:</strong> {cartTable.bookingTable.fullName} <br />\n                  <strong>Số điện thoại: </strong> {cartTable.bookingTable.phoneNumber} <br />\n                  <strong>Giờ: </strong> {cartTable.bookingTable.hour} <br />\n                  <strong>Ngày: </strong> {cartTable.bookingTable.date} <br />\n                  <strong>Địa chỉ: </strong> {cartTable.bookingTable.numberPlace} <br />\n                  <strong>Mô tả: </strong> {cartTable.bookingTable.description} <br />\n                </p>\n              </div>\n            </li>\n            <li>\n              <div className=\"card card-body card-Oder-Screen\"  style ={{width :'80%'}}>\n                <h2>Thanh toán</h2>\n                <p>\n                  <strong>Phương pháp:</strong> {cartTable.paymentMethod}\n                </p>\n              </div>\n            </li>\n            <li>\n              <div className=\"card card-body card-Oder-Screen\"  style ={{width :'80%'}}>\n                <h2>Đặt trước các mặt hàng</h2>\n                <ul>\n                  {cartTable.cartTableItems.map((item) => (\n                    <li key={item.table}>\n                      <div className=\"row\">\n                        <div className = 'col'>\n                          <img\n                            src={item.image}\n                            alt={item.name}\n                            className=\"small\"\n                            style = {{width :'100px'}}\n                          ></img>\n                        </div>\n                        <div className=\"min-30 col\" >\n                          <Link to={`/table/${item.table}`}>\n                            {item.name}\n                          </Link>\n                        </div>\n\n                        <div className='col'>\n                          {item.qty} x ${item.price} = ${item.qty * item.price}\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </li>\n          </ul>\n        </div>\n        <div className=\"col-1\">\n          <div className=\"card card-body card-Oder-Screen\"  style ={{width :'80%'}}>\n            <ul>\n              <li>\n                <h2>Thanh toán đặt bànt</h2>\n              </li>\n              <li>\n                <div className=\"row\">\n                  <div>Mặt hàng</div>\n                  <div>${cartTable.itemsPrice.toFixed(2)}</div>\n                </div>\n              </li>\n              <li>\n                <div className=\"row\">\n                  <div>Thuế</div>\n                  <div>${cartTable.taxPrice.toFixed(2)}</div>\n                </div>\n              </li>\n              <li>\n                <div className=\"row\">\n                  <div>\n                    <strong> Tổng số đặt trước</strong>\n                  </div>\n                  <div>\n                    <strong>${cartTable.totalPrice.toFixed(2)}</strong>\n                  </div>\n                </div>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={placeBookingHandler}\n                  className=\"primary block\"\n                  disabled={cartTable.cartTableItems.length === 0}\n                >\n                  Đặt chỗ\n                </button>\n              </li>\n              {loading && <LoadingBox></LoadingBox>}\n              {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}