{"ast":null,"code":"var _jsxFileName = \"/home/nghiahoang/DoAnNew1/frontend/src/screens/BookingTableScreen.js\";\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveBookingTable } from '../actions/cartTableActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { validName, validPhoneNumber } from '../testregex.js';\nimport MessageBox from '../components/MessageBox';\nimport '../scss/bookTableAddress.css';\nexport default function BookingTableScreen(props) {\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const cartTable = useSelector(state => state.cartTable);\n  const {\n    bookingTable\n  } = cartTable;\n\n  if (!userInfo) {\n    props.history.push('/signin');\n  }\n\n  const [fullName, setFullName] = useState(bookingTable.fullName);\n  const [phoneNumber, setPhoneNumber] = useState(bookingTable.phoneNumber);\n  const [date, setDate] = useState(bookingTable.date);\n  const [hour, setHour] = useState(bookingTable.hour);\n  const [numberPlace, setNumberPlace] = useState(bookingTable.numberPlace);\n  const [description, setDescription] = useState(bookingTable.description);\n\n  const checkName = fullName => {\n    return validName.test(fullName);\n  };\n\n  const checkPhoneNumber = phoneNumber => {\n    return validPhoneNumber.test(phoneNumber);\n  };\n\n  const checkDay = date => {\n    const splitTime = date.split('-');\n    const year = parseInt(splitTime[0]);\n    const month = parseInt(splitTime[1]);\n    const day = parseInt(splitTime[2]);\n    const dayCurrent = new Date().getDate();\n    const monthCurrent = new Date().getMonth();\n    const yearCurrent = new Date().getFullYear();\n    return year >= yearCurrent && month >= monthCurrent && day >= dayCurrent;\n  };\n\n  const checkHour = hour => {\n    const splitHour = hour.split(' ');\n    const h = parseInt(splitHour[0]);\n    const hourCurrent = new Date().getHours();\n    return h >= hourCurrent;\n  };\n\n  const dispatch = useDispatch();\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let moveOn = true;\n\n    if (moveOn) {\n      dispatch(saveBookingTable({\n        fullName,\n        phoneNumber,\n        date,\n        hour,\n        numberPlace,\n        description\n      }));\n      console.log(date);\n\n      if (checkName(fullName) && checkPhoneNumber(phoneNumber) && checkDay(date) && date !== \"\" && checkHour(hour)) {\n        props.history.push('/paymentTable');\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form form-shipping\",\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"B\\xE0n \\u0111\\u1EB7t ch\\u1ED7\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"fullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"H\\u1ECD v\\xE0 t\\xEAn\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"fullName\",\n    placeholder: \"Enter full name\",\n    value: fullName,\n    onChange: e => setFullName(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })), !checkName(fullName) && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 34\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"T\\xEAn b\\u1EAFt \\u0111\\u1EA7u b\\u1EB1ng m\\u1ED9t ch\\u1EEF c\\xE1i in hoa v\\xE0 t\\u1ED1i \\u0111a b\\u1ED1n ch\\u1EEF c\\xE1i\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phoneNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"phoneNumber\",\n    placeholder: \"Enter Phone Number\",\n    value: phoneNumber,\n    onChange: e => setPhoneNumber(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  })), !checkPhoneNumber(phoneNumber) && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 44\n    }\n  }, \" C\\xF3 t\\u1EDBi 11 s\\u1ED1\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, \"Ng\\xE0y\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"date\",\n    placeholder: \"Enter Date\",\n    value: date,\n    onChange: e => setDate(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  })), !checkDay(date) && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 28\n    }\n  }, \"ng\\xE0y, th\\xE1ng, n\\u0103m hi\\u1EC7n t\\u1EA1i, ho\\u1EB7c l\\xE0 tr\\u1EC3 h\\u01A1n\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"hour\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, \"gi\\u1EDD\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: hour,\n    onChange: e => setHour(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"11 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"11AM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"12 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"12AM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"13 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"13PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"14 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, \"14PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"16 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"16PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"17 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, \"17PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"18 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"18PM\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"19 PM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"19PM\"))), !checkHour(hour) && /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, \"Th\\u1EDDi gian \\u0111\\u1EB7t tr\\u01B0\\u1EDBc ph\\u1EA3i sau ho\\u1EB7c th\\u1EDDi \\u0111i\\u1EC3m hi\\u1EC7n t\\u1EA1i\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"numberPlace\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u1ECBa ch\\u1EC9\"), /*#__PURE__*/React.createElement(\"select\", {\n    value: numberPlace,\n    onChange: e => setNumberPlace(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, \"10\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, \"M\\xF4 t\\u1EA3\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"description\",\n    name: \"description\",\n    rows: \"4\",\n    cols: \"50\",\n    placeholder: \"Enter Description\",\n    value: description,\n    onChange: e => setDescription(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"primary\",\n    type: \"submit\" // onClick={!validate(date)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, \"Ti\\u1EBFp t\\u1EE5c\"))));\n}","map":{"version":3,"sources":["/home/nghiahoang/DoAnNew1/frontend/src/screens/BookingTableScreen.js"],"names":["React","useState","useDispatch","useSelector","saveBookingTable","CheckoutSteps","validName","validPhoneNumber","MessageBox","BookingTableScreen","props","userSignin","state","userInfo","cartTable","bookingTable","history","push","fullName","setFullName","phoneNumber","setPhoneNumber","date","setDate","hour","setHour","numberPlace","setNumberPlace","description","setDescription","checkName","test","checkPhoneNumber","checkDay","splitTime","split","year","parseInt","month","day","dayCurrent","Date","getDate","monthCurrent","getMonth","yearCurrent","getFullYear","checkHour","splitHour","h","hourCurrent","getHours","dispatch","submitHandler","e","preventDefault","moveOn","console","log","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,gBAAT,QAAiC,6BAAjC;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,SAASC,SAAT,EAAoBC,gBAApB,QAA2C,iBAA3C;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAO,8BAAP;AACA,eAAe,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AAChD,QAAMC,UAAU,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACD,UAAlB,CAA9B;AAEA,QAAM;AAAEE,IAAAA;AAAF,MAAeF,UAArB;AACA,QAAMG,SAAS,GAAGX,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACE,SAAlB,CAA7B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAmBD,SAAzB;;AAEA,MAAI,CAACD,QAAL,EAAe;AACbH,IAAAA,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmB,SAAnB;AACD;;AACD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAACc,YAAY,CAACG,QAAd,CAAxC;AACA,QAAM,CAACE,WAAD,EAAcC,cAAd,IAAgCpB,QAAQ,CAACc,YAAY,CAACK,WAAd,CAA9C;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAACc,YAAY,CAACO,IAAd,CAAhC;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAACc,YAAY,CAACS,IAAd,CAAhC;AACA,QAAM,CAACE,WAAD,EAAcC,cAAd,IAAgC1B,QAAQ,CAACc,YAAY,CAACW,WAAd,CAA9C;AACA,QAAM,CAACE,WAAD,EAAcC,cAAd,IAAgC5B,QAAQ,CAACc,YAAY,CAACa,WAAd,CAA9C;;AAEA,QAAME,SAAS,GAAIZ,QAAD,IAAc;AAC9B,WAAOZ,SAAS,CAACyB,IAAV,CAAeb,QAAf,CAAP;AACH,GAFC;;AAGF,QAAMc,gBAAgB,GAAIZ,WAAD,IAAiB;AACxC,WAAOb,gBAAgB,CAACwB,IAAjB,CAAsBX,WAAtB,CAAP;AACD,GAFD;;AAGA,QAAMa,QAAQ,GAAIX,IAAD,IAAU;AACvB,UAAMY,SAAS,GAAGZ,IAAI,CAACa,KAAL,CAAW,GAAX,CAAlB;AACE,UAAMC,IAAI,GAAGC,QAAQ,CAACH,SAAS,CAAC,CAAD,CAAV,CAArB;AACA,UAAMI,KAAK,GAAGD,QAAQ,CAACH,SAAS,CAAC,CAAD,CAAV,CAAtB;AACA,UAAMK,GAAG,GAAGF,QAAQ,CAACH,SAAS,CAAC,CAAD,CAAV,CAApB;AACA,UAAMM,UAAU,GAAG,IAAIC,IAAJ,GAAWC,OAAX,EAAnB;AACA,UAAMC,YAAY,GAAG,IAAIF,IAAJ,GAAWG,QAAX,EAArB;AACA,UAAMC,WAAW,GAAG,IAAIJ,IAAJ,GAAWK,WAAX,EAApB;AACJ,WAAOV,IAAI,IAAIS,WAAR,IAAuBP,KAAK,IAAIK,YAAhC,IAAgDJ,GAAG,IAAIC,UAA9D;AAED,GAVD;;AAWA,QAAMO,SAAS,GAAIvB,IAAD,IAAS;AAC3B,UAAMwB,SAAS,GAAGxB,IAAI,CAACW,KAAL,CAAW,GAAX,CAAlB;AACA,UAAMc,CAAC,GAAGZ,QAAQ,CAACW,SAAS,CAAC,CAAD,CAAV,CAAlB;AACA,UAAME,WAAW,GAAG,IAAIT,IAAJ,GAAWU,QAAX,EAApB;AACA,WAAOF,CAAC,IAAIC,WAAZ;AACC,GALD;;AAOE,QAAME,QAAQ,GAAGlD,WAAW,EAA5B;;AACA,QAAMmD,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AAEC,QAAIC,MAAM,GAAG,IAAb;;AAED,QAAIA,MAAJ,EAAY;AACVJ,MAAAA,QAAQ,CACNhD,gBAAgB,CAAC;AACfc,QAAAA,QADe;AAEfE,QAAAA,WAFe;AAGfE,QAAAA,IAHe;AAIfE,QAAAA,IAJe;AAKfE,QAAAA,WALe;AAMfE,QAAAA;AANe,OAAD,CADV,CAAR;AAUA6B,MAAAA,OAAO,CAACC,GAAR,CAAYpC,IAAZ;;AAEA,UAAGQ,SAAS,CAACZ,QAAD,CAAT,IAAuBc,gBAAgB,CAACZ,WAAD,CAAvC,IAAwDa,QAAQ,CAACX,IAAD,CAAhE,IAA0EA,IAAI,KAAK,EAAnF,IAAyFyB,SAAS,CAACvB,IAAD,CAArG,EAA4G;AAC1Gd,QAAAA,KAAK,CAACM,OAAN,CAAcC,IAAd,CAAmB,eAAnB;AACD;AAEF;AACF,GAvBD;;AAwBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,KAAK,MAApB;AAAqB,IAAA,KAAK,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAqC,IAAA,QAAQ,EAAEoC,aAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,CADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,WAAW,EAAC,iBAHd;AAIE,IAAA,KAAK,EAAEnC,QAJT;AAKE,IAAA,QAAQ,EAAGoC,CAAD,IAAOnC,WAAW,CAACmC,CAAC,CAACK,MAAF,CAASC,KAAV,CAL9B;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAJF,EAeG,CAAC9B,SAAS,CAACZ,QAAD,CAAV,iBAAwB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACvB;AAAK,IAAA,SAAS,EAAG,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+HADuB,CAf3B,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADF,eAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,aAFL;AAGE,IAAA,WAAW,EAAC,oBAHd;AAIE,IAAA,KAAK,EAAEE,WAJT;AAKE,IAAA,QAAQ,EAAGkC,CAAD,IAAOjC,cAAc,CAACiC,CAAC,CAACK,MAAF,CAASC,KAAV,CALjC;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CApBF,EA+BG,CAAC5B,gBAAgB,CAACZ,WAAD,CAAjB,iBAAkC,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCA/BrC,eAgCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,MAFL;AAGE,IAAA,WAAW,EAAC,YAHd;AAIE,IAAA,KAAK,EAAEE,IAJT;AAKE,IAAA,QAAQ,EAAGgC,CAAD,IAAO/B,OAAO,CAAC+B,CAAC,CAACK,MAAF,CAASC,KAAV,CAL1B;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAhCF,EA2CG,CAAC3B,QAAQ,CAACX,IAAD,CAAT,iBAAkB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFA3CrB,eA4CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,KAAK,EAAEE,IADT;AAEE,IAAA,QAAQ,EAAG8B,CAAD,IAAO7B,OAAO,CAAC6B,CAAC,CAACK,MAAF,CAASC,KAAV,CAF1B;AAGE,IAAA,QAAQ,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YANF,eAOE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,eAQE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,eASE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATF,eAUE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXF,eAYE;AAAQ,IAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF,CAFF,CA5CF,EA6DG,CAACb,SAAS,CAACvB,IAAD,CAAV,iBAAmB,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wHA7DtB,eA8DE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AACE,IAAA,KAAK,EAAEE,WADT;AAEE,IAAA,QAAQ,EAAG4B,CAAD,IAAO3B,cAAc,CAAC2B,CAAC,CAACK,MAAF,CAASC,KAAV,CAFjC;AAGE,IAAA,QAAQ,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALF,eAME;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SANF,eAOE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAPF,eAQE;AAAQ,IAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SARF,eASE;AAAQ,IAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,CAFF,CA9DF,eA4EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAO,IAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,eAEA;AAAU,IAAA,EAAE,EAAC,aAAb;AAA2B,IAAA,IAAI,EAAC,aAAhC;AAA8C,IAAA,IAAI,EAAC,GAAnD;AAAuD,IAAA,IAAI,EAAC,IAA5D;AAAkE,IAAA,WAAW,EAAC,mBAA9E;AACI,IAAA,KAAK,EAAEhC,WADX;AAEI,IAAA,QAAQ,EAAG0B,CAAD,IAAOzB,cAAc,CAACyB,CAAC,CAACK,MAAF,CAASC,KAAV,CAFnC;AAGI,IAAA,QAAQ,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CA5EF,eAqFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAQ,IAAA,SAAS,EAAC,SAAlB;AAA4B,IAAA,IAAI,EAAC,QAAjC,CACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CArFF,CAFF,CADF;AAmGD","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveBookingTable } from '../actions/cartTableActions';\nimport CheckoutSteps from '../components/CheckoutTableSteps';\nimport { validName, validPhoneNumber} from '../testregex.js';\nimport MessageBox from '../components/MessageBox';\nimport '../scss/bookTableAddress.css'\nexport default function BookingTableScreen(props) {\n  const userSignin = useSelector((state) => state.userSignin);\n\n  const { userInfo } = userSignin;\n  const cartTable = useSelector((state) => state.cartTable);\n  const { bookingTable } = cartTable;\n\n  if (!userInfo) {\n    props.history.push('/signin');\n  }\n  const [fullName, setFullName] = useState(bookingTable.fullName);\n  const [phoneNumber, setPhoneNumber] = useState(bookingTable.phoneNumber);\n  const [date, setDate] = useState(bookingTable.date);\n  const [hour, setHour] = useState(bookingTable.hour);\n  const [numberPlace, setNumberPlace] = useState(bookingTable.numberPlace);\n  const [description, setDescription] = useState(bookingTable.description);\n\n  const checkName = (fullName) => {\n    return validName.test(fullName);\n} \nconst checkPhoneNumber = (phoneNumber) => {\n  return validPhoneNumber.test(phoneNumber);\n}\t\nconst checkDay = (date) => {\n    const splitTime = date.split('-');\n      const year = parseInt(splitTime[0]);\n      const month = parseInt(splitTime[1]);\n      const day = parseInt(splitTime[2]);\n      const dayCurrent = new Date().getDate();\n      const monthCurrent = new Date().getMonth();\n      const yearCurrent = new Date().getFullYear();\n  return year >= yearCurrent && month >= monthCurrent && day >= dayCurrent;\n\n}\nconst checkHour = (hour) =>{\nconst splitHour = hour.split(' ');\nconst h = parseInt(splitHour[0]);\nconst hourCurrent = new Date().getHours();\nreturn h >= hourCurrent;\n}\n\n  const dispatch = useDispatch();\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n     let moveOn = true;\n\n    if (moveOn) {\n      dispatch(\n        saveBookingTable({\n          fullName,\n          phoneNumber,\n          date,\n          hour,\n          numberPlace,\n          description\n        })\n      );\n      console.log(date);\n      \n      if(checkName(fullName) && checkPhoneNumber(phoneNumber) && checkDay(date) && date !== \"\" && checkHour(hour)){\n        props.history.push('/paymentTable');\n      }\n     \n    }\n  };\n  return (\n    <div>\n      <CheckoutSteps step1 step2></CheckoutSteps>\n      <form className=\"form form-shipping\" onSubmit={submitHandler}>\n        <div>\n          <h1>Bàn đặt chỗ</h1>\n        </div>\n        <div>\n          <label htmlFor=\"fullName\">Họ và tên</label>\n          <input\n            type=\"text\"\n            id=\"fullName\"\n            placeholder=\"Enter full name\"\n            value={fullName}\n            onChange={(e) => setFullName(e.target.value)}\n            required\n          ></input>\n        </div>\n        {!checkName(fullName) && <MessageBox variant=\"danger\">\n          <div className = 'message'>\n          Tên bắt đầu bằng một chữ cái in hoa và tối đa bốn chữ cái\n          </div>\n          </MessageBox>}\n        <div>\n          <label htmlFor=\"phoneNumber\">Số điện thoại</label>\n          <input\n            type=\"text\"\n            id=\"phoneNumber\"\n            placeholder=\"Enter Phone Number\"\n            value={phoneNumber}\n            onChange={(e) => setPhoneNumber(e.target.value)}\n            required\n          ></input>\n        </div>\n        {!checkPhoneNumber(phoneNumber) && <MessageBox variant=\"danger\"> Có tới 11 số</MessageBox>}\n        <div>\n          <label htmlFor=\"date\">Ngày</label>\n          <input\n            type=\"date\"\n            id=\"date\"\n            placeholder=\"Enter Date\"\n            value={date}\n            onChange={(e) => setDate(e.target.value)}\n            required\n          ></input>\n        </div>\n        {!checkDay(date) &&<MessageBox variant=\"danger\">ngày, tháng, năm hiện tại, hoặc là trể hơn</MessageBox>}\n        <div>\n          <label htmlFor=\"hour\">giờ</label>\n          <select\n            value={hour}\n            onChange={(e) => setHour(e.target.value)}\n            required\n          >\n            <option value=\"11 PM\">11AM</option>\n            <option value=\"12 PM\">12AM</option>\n            <option value=\"13 PM\">13PM</option>\n            <option value=\"14 PM\">14PM</option>\n            <option value=\"16 PM\">16PM</option>\n            <option value=\"17 PM\">17PM</option>\n            <option value=\"18 PM\">18PM</option>\n            <option value=\"19 PM\">19PM</option>\n          </select>\n        </div>\n        {!checkHour(hour) &&<MessageBox variant=\"danger\">Thời gian đặt trước phải sau hoặc thời điểm hiện tại</MessageBox>}\n        <div>\n          <label htmlFor=\"numberPlace\">Địa chỉ</label>\n          <select\n            value={numberPlace}\n            onChange={(e) => setNumberPlace(e.target.value)}\n            required\n          >\n            <option value=\"2\">2</option>\n            <option value=\"4\">4</option>\n            <option value=\"6\">6</option>\n            <option value=\"8\">8</option>\n            <option value=\"10\">10</option>\n          </select>\n        </div>\n        <div>\n        <label htmlFor=\"description\">Mô tả</label>\n        <textarea id=\"description\" name=\"description\" rows=\"4\" cols=\"50\"  placeholder=\"Enter Description\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n            required >\n           \n        </textarea>\n        </div>\n        <div>\n          <label />\n          <button className=\"primary\" type=\"submit\" \n          // onClick={!validate(date)}\n          >\n            Tiếp tục\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}